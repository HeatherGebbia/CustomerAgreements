@page "{questionnaireId:int}"
@model CustomerAgreements.Pages.Agreements.CreateModel

<form method="post">
    @if (!string.IsNullOrEmpty(Model.Instructions))
    {
        <div class="alert alert-primary text-center mb-4">
            @Model.Instructions
        </div>
    }

    <div class="form-group d-flex">
        <input type="checkbox" asp-for="@Model.Agreement.ReadPrivacyPolicy" class="form-check-input" id="ReadPrivacyPolicy" />
        &nbsp;@Model.Acknowledgement
        <span asp-validation-for="@Model.Agreement.ReadPrivacyPolicy" class="text-danger"></span>
    </div>

    <partial name="_AgreementForm" model="Model.FormModel" />

    <div class="d-flex flex-row">
        @if (Model.Preview)
        {
            <a asp-page="/Questionnaires/Index" class="btn btn-secondary btn-sm">
                Close Preview
            </a>
        }
        else
        {
            <button type="submit" name="ActionType" value="Save" class="btn btn-primary btn-sm" formnovalidate>Save</button>
            <span>&nbsp;</span>
            <button type="submit" name="ActionType" value="Submit" class="btn btn-primary btn-sm">Submit</button>
        }
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/js/agreementForm.js"></script>
}